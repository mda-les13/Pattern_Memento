# Pattern_Memento

Паттерн **Memento** (Снимок) используется для сохранения и восстановления внутреннего состояния объекта без нарушения его инкапсуляции. Он позволяет создавать "точки сохранения", чтобы в будущем можно было откатиться к предыдущему состоянию объекта.

---

### **Основные компоненты паттерна:**
1. **Originator (Создатель)**  
   Объект, состояние которого нужно сохранять. Он умеет создавать Memento и восстанавливать своё состояние из него.
2. **Memento (Снимок)**  
   Объект, хранящий состояние Originator. Обычно неизменяемый и предоставляет ограниченный доступ к своим данным.
3. **Caretaker (Хранитель)**  
   Управляет историей сохранённых Memento, но не может их модифицировать. Передаёт Memento обратно Originator для восстановления.

---

### **Ключевые моменты:**
- **Инкапсуляция:** Memento скрывает внутреннее состояние Originator от внешних объектов.
- **Ограничение доступа:** В C# можно использовать модификатор `internal` для конструктора Memento, чтобы ограничить его создание только Originator.
- **История:** Caretaker использует стек (`Stack<T>`) для хранения Memento, что удобно для операций "отменить" (Undo).

---

### **Плюсы и минусы:**
- **+** Сохраняет инкапсуляцию объекта.  
- **+** Упрощает реализацию Undo/Redo.  
- **-** Может потреблять много памяти, если состояние объекта большое.  
- **-** Требует управления историей (например, ограничение глубины отмены).

---

### **Когда использовать:**
- При необходимости отмены/повтора действий (Undo/Redo).
- Для создания чекпоинтов в приложениях (например, игры, транзакции).
- Когда нельзя раскрывать внутреннее состояние объекта другим классам.
